IF OBJECT_ID('DBO.RESOURCELANGUAGE')>0
	DROP TABLE DBO.RESOURCELANGUAGE
GO
CREATE TABLE DBO.RESOURCELANGUAGE
(
	RESOURCELANGUAGEID INT PRIMARY KEY,
	RESOURCELANGUAGENAME VARCHAR(50) NOT NULL,
	RESOURCELANGUAGE VARCHAR(10) NOT NULL
)
go

IF OBJECT_ID('DBO.RESOURCETYPE')>0
	DROP TABLE DBO.RESOURCETYPE
GO
CREATE TABLE DBO.RESOURCETYPE
(
	RESOURCETYPEID INT PRIMARY KEY,
	RESOURCETYPE VARCHAR(50) NOT NULL,
	RESOURCETYPEDESCRIPTION VARCHAR(255) NULL
)
GO

IF OBJECT_ID('DBO.RESOURCEKEY')>0
	DROP TABLE DBO.RESOURCEKEY
GO
CREATE TABLE DBO.RESOURCEKEY
(
	RESOURCEKEYID INT PRIMARY KEY IDENTITY,
	RESOURCETYPEID INT NOT NULL,
	RESOURCEKEY VARCHAR(255) NOT NULL,
	RESOURCEDEFAULTVALUE VARCHAR(MAX) NOT NULL
)
go

IF OBJECT_ID('DBO.RESOURCEVALUE')>0
	DROP TABLE DBO.RESOURCEVALUE
GO
CREATE TABLE DBO.RESOURCEVALUE
(
	RESOURCEVALUEID INT PRIMARY KEY IDENTITY,
	RESOURCEKEYID INT NOT NULL,
	RESOURCELANGUAGEID INT NOT NULL,
	RESOURCEVALUE  VARCHAR(MAX) NOT NULL
)
go
INSERT INTO [RESOURCELANGUAGE] ([RESOURCELANGUAGEID],[RESOURCELANGUAGENAME],[RESOURCELANGUAGE])VALUES(1,'Turkish','tr-TR')
INSERT INTO [RESOURCELANGUAGE] ([RESOURCELANGUAGEID],[RESOURCELANGUAGENAME],[RESOURCELANGUAGE])VALUES(2,'English','en-US')

INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(1,'Field','Tablo alanlar isimleri için kullanılacak')
INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(2,'Entity','Tablo alan isimleri için kullanılacak.')
INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(3,'Alert','Hata mesajları için kullanılacak.')
INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(4,'Warning','Uyarı mesajları için kullanılacak.')
INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(5,'Info','Bilgi mesajları için kullanılacak.')
INSERT INTO [RESOURCETYPE] ([RESOURCETYPEID],[RESOURCETYPE],[RESOURCETYPEDESCRIPTION])VALUES(6,'Menu','Menüler için kullanılacak.')

SET IDENTITY_INSERT [RESOURCEKEY]  ON
INSERT INTO [RESOURCEKEY] ([RESOURCEKEYID],[RESOURCETYPEID],[RESOURCEKEY],[RESOURCEDEFAULTVALUE])VALUES(1,1,'RESOURCEID','Resource No-default')
INSERT INTO [RESOURCEKEY] ([RESOURCEKEYID],[RESOURCETYPEID],[RESOURCEKEY],[RESOURCEDEFAULTVALUE])VALUES(2,1,'RESOURCEKEY','Resource Anahtarı-default')
INSERT INTO [RESOURCEKEY] ([RESOURCEKEYID],[RESOURCETYPEID],[RESOURCEKEY],[RESOURCEDEFAULTVALUE])VALUES(3,1,'RESOURCEVALUE','Resource Değeri-default')
INSERT INTO [RESOURCEKEY] ([RESOURCEKEYID],[RESOURCETYPEID],[RESOURCEKEY],[RESOURCEDEFAULTVALUE])VALUES(5,1,'TESTRESOURCE','TESTRESOURCE-DEFAULT')
SET IDENTITY_INSERT [RESOURCEKEY]  OFF

SET IDENTITY_INSERT [RESOURCEVALUE]  ON
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(1,1,1,'Resource No')
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(2,2,1,'Resource Anahtarı')
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(3,3,1,'Resource Değeri')
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(4,1,2,'Resource Number')
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(5,2,2,'Resource Key')
INSERT INTO [RESOURCEVALUE] ([RESOURCEVALUEID],[RESOURCEKEYID],[RESOURCELANGUAGEID],[RESOURCEVALUE])VALUES(7,3,2,'Resource Value')
SET IDENTITY_INSERT [RESOURCEVALUE]  ON


IF OBJECT_ID('DBO.V_RESOURCE')>0
	DROP VIEW DBO.V_RESOURCE
GO

CREATE VIEW DBO.V_RESOURCE
AS
SELECT 
	DBO.RESOURCETYPE.RESOURCETYPE,
	DBO.RESOURCEKEY.RESOURCEKEY,
	DBO.RESOURCELANGUAGE.RESOURCELANGUAGE,
	DBO.RESOURCEVALUE.RESOURCEVALUE
FROM DBO.RESOURCEKEY
	INNER JOIN DBO.RESOURCEVALUE ON RESOURCEKEY.RESOURCEKEYID = DBO.RESOURCEVALUE.RESOURCEKEYID
	INNER JOIN DBO.RESOURCELANGUAGE ON DBO.RESOURCELANGUAGE.RESOURCELANGUAGEID=DBO.RESOURCEVALUE.RESOURCELANGUAGEID
	INNER JOIN DBO.RESOURCETYPE ON DBO.RESOURCETYPE.RESOURCETYPEID = DBO.RESOURCEKEY.RESOURCETYPEID
UNION ALL
SELECT 
	DBO.RESOURCETYPE.RESOURCETYPE,
	DBO.RESOURCEKEY.RESOURCEKEY,
	NULL AS RESOURCELANGUAGE,
	RESOURCEDEFAULTVALUE AS RESOURCEVALUE
FROM DBO.RESOURCEKEY
	INNER JOIN DBO.RESOURCETYPE ON DBO.RESOURCETYPE.RESOURCETYPEID = DBO.RESOURCEKEY.RESOURCETYPEID
GO